{% extends "layout/base.html" %}


<!-- Adding the following to allow scrolling? -->
{% block content %}
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8KpNTcqcPO0sTepyUDn2Uc2DO33052ig"> </script>
  <script src="{{ url_for('static', filename='vendor/jquery/dist/jquery.min.js') }}"></script>
  <!--<div id="wrap">-->
  <div class="container-fluid">
  <div class="row-fluid" style="padding-bottom:60px;">
  <div class="col-md-4 " style="overflow-y:auto;">
    <!-- THIS IS WHERE INFO GOES -->
    <div class="custom_bg bit_of_bot_margin">
      <dl class="dl-horizontal">
        <dt>Origin:</dt> <dd>{{ settings['origin'] }} </dd>
        <dt>Destination: </dt><dd>{{ settings['destination'] }} </dd>
        <dt>Genre: </dt><dd>{{ settings['genre'] }} </dd>
      </dl>
    </div> <!-- custom_bg -->
      <img id = "loading" src = "http://sierrafire.cr.usgs.gov/images/loading.gif" alt = "Loading indicator">


    <!-- WRITE OUT THE RESULTS -->
    {% for leg in settings['legs'] %}
    <div class="custom_bg bit_of_padding bit_of_bot_margin">
      <div class="btn">{{ leg.scs }} </div>
      <div class="btn">{{ leg.freq }} </div>
      <div class="btn">{{ leg.dur }} </div>
    </div> <!-- custom_bg -->
    {% endfor %}
    {{ settings.keys() }}
    {{ settings.legs[0].keys() }}

    <!-- WRITE OUT THE RESULTS -->
    <!--<div class="custom_bg bit_of_padding bit_of_bot_margin">-->
    <table class="table">
    {% for leg in settings['legs'] %}
      <tr>
      <td>{{ leg.scs }} </td>
      <td>{{ leg.freq }} </td>
      <td>{{ leg.dur }} </td>
      </tr>
    <!--</div> [> custom_bg <]-->
    </table>
    {% endfor %}

    <!--<div class="bit_of_top_margin"></div>-->


  </div> <!-- col-md-4 -->
  <div class="col-md-8 magic_freezer">
    <div>
      <center>
      <div id="map-canvas" style="width: 100%; height: 800px"></div>
      <!--<div id="map-canvas" style="width: 100%;  margin-left:auto; margin-rigth:auto; martin-top:60px; over"></div>-->
      <!--<div id="map-canvas" style="width: auto; height: auto margin-left:auto; margin-rigth:auto; martin-top:60px; over"></div>-->
      </center>
    </div>
  </div> <!-- col-md-8 -->

  </div> <!-- row -->
  </div> <!-- container -->
  <!--</div> [> wrap <]-->


<script type="text/javascript">
///////////////////////////////////////////////////////////////////////////////////
////          Javascript for drawing polylines!          //////////////////////////
///////////////////////////////////////////////////////////////////////////////////
function initialize() {
  var mapDiv = document.getElementById('map-canvas');
  var map = new google.maps.Map(mapDiv, {
    center: new google.maps.LatLng(0, -180),
    zoom: 2,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });
  var infoWindow = new google.maps.InfoWindow();
  {{settings['bbox']|safe}}
  map.fitBounds(bbox);
  {{settings.leg_and_contour_js|safe}}
  google.maps.event.trigger(map, 'resize');


}
google.maps.event.addDomListener(window, 'load', initialize);
//google.maps.event.addListener(polyline, "click", function (e) {
//  infowindow.setPosition(e.latLng);
//  infowindow.setContent(this.txt); // <--- here
//  infowindow.open(map);
//});

// Loading window?
//$(window).load(function() {
//    $('#loading').remove();
//    });

///////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////
</script>
  
  
{% endblock %}

